<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Homebox - Serveur git personnel pour chaque utilisateur</title>
        <!--# include file="/.include/html-headers.html" -->
        <!-- specific stylesheets -->
        <link rel="stylesheet" href="/css/features.css">
        <link rel="stylesheet" href="/css/carousel-common.css">
        <link rel="stylesheet" media="screen and (min-width:800px)" href="/css/carousel-wide.css">
        <link rel="stylesheet" media="screen and (min-width:500px) and (max-width:800px)" href="/css/carousel-narrow.css">
        <link rel="stylesheet" media="screen and (max-width:500px)" href="/css/carousel-thin.css">
    </head>
    <body>
        <!--# include file="/.include/header-en.html" -->
        <h1>Serveur git personnel</h1>

        <p>Tous les projets git ne doivent pas nécessairement être hébergés sur les grands fournisseurs de cloud, vous
         pouvez créer un serveur personnel git pour chaque utilisateur. Ceci est très utile pour les petits projets
         personnels, les sauvegardes de fichiers d’initialisations (e.g. .bashrc, etc...) ou de documents et fichiers
         texte.</p>

        <section class="clear">
            <h2>Serveur serveur Git</h2>
            <ul>
                <li>Les dépôts sont accessibles via SSH, pas de front-end web.</li>
                <li>Les dépôts Git sont automatiquement créés lors du premier push.</li>
                <li>Validation des noms de dépôts</li>
                <li>Les dépôts sont stockés dans <samp>/home/archives/$USER/git/repositories</samp>.</li>
                <li>Les dépôts crées sont restreint à l’utilisateur et ne peuvent pas être partagés.</li>
                <li>Génération automatique et envoi par email des certificates SSH et fichers de configuration.</li>
            </ul>
        </section>


        <section class="clear">
            <h2>Exemple de configuration initiale</h2>
            <pre class="termshot">
                <code>
                    users:
                      - uid: alice
                        [...]
                        ssh:
                          - comment: git-2024
                            type: ssh-ed25519
                            data: AAAAC3NzaC1lZDI1NTE5AAAAUmspI/sxaHxkpPx0KCunUwhtWdX8ERWwyl/CHfPVxDYu
                            usage: git
                      - uid: bob
                        [...]
                        ssh:
                          - comment: git-2024
                            type: ssh-ed25519
                            data: AAAAC3NzaC1lrVT63F9QZDe3O9iqLYI1swRgGAcEHBo2zIhj42iisEbzQXxbpwEufmbS
                            usage: git
                </code>
            </pre>
        </section>

        <section class="clear">
            <h2>Exemple de configuration générée</h2>
            <pre class="termshot">
                <code>
                    Host git.homebox.me
                      Hostname hansolo.homebox.me
                      VerifyHostKeyDNS yes
                      User alice
                      IdentityFile ~/.ssh/git-2024
                      CertificateFile ~/.ssh/git-2024-cert.pub
                      HostKeyAlias pigment.homebox.me
                      PasswordAuthentication no
                </code>
            </pre>
        </section>

        <section class="clear">
            <h2>Création et utilisation d’un nouveau dépôt</h2>
            <pre class="termshot">
                <code>
                    git remote add perso git.domain.com:repo-name.git
                    git push --all --tags perso
                </code>
            </pre>
        </section>

        <section class="clear">
            <h2>Lister les dépôts existants</h2>
            <pre class="termshot">
                <code>
                    ssh git.domain.com repo list

                    Repositories list
                    Repository         | Size | Accessed            | Modified
                    ---                | ---  | ---                 | ---
                    manuscript.git     | 15M  | 2024-05-23 11:52:55 | 2024-05-23 11:53:08
                    homebox.git        | 11M  | 2024-05-20 17:56:10 | 2024-05-20 18:02:28
                    go-exercises.git   | 200K | 2024-05-07 07:22:04 | 2024-05-07 07:22:04
                    ansible-gpg.git    | 144K | 2024-05-06 19:52:26 | 2024-05-06 19:52:26
                    rust-exercises.git | 152K | 2024-05-06 19:33:41 | 2024-05-06 19:33:41
                    homebox-site.git   | 8.3M | 2024-05-06 14:48:53 | 2024-05-06 14:48:53
                    rodier.me.git      | 6.8M | 2024-05-06 08:48:21 | 2024-05-06 08:48:21
                </code>
            </pre>
        </section>

        <!--# include file="/.include/footer.html" -->
    </body>
</html>
